<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f3f4f6; padding: 40px; }
        .workday-blue { color: #005CB9; }
        .workday-bg-blue { background-color: #005CB9; }
        
        /* Privacy Logic */
        .privacy-overlay {
            opacity: 1;
            backdrop-filter: blur(12px);
            transition: opacity 0.3s ease, backdrop-filter 0.3s ease;
        }
        .is-revealed .privacy-overlay {
            opacity: 0;
            backdrop-filter: blur(0px);
            pointer-events: none;
        }

        /* Progress Ring Animation */
        #progressRing {
            stroke-dasharray: 100;
            stroke-dashoffset: 100;
            transition: stroke-dashoffset 800ms linear;
        }
        .holding #progressRing {
            stroke-dashoffset: 0;
        }
    </style>
</head>
<body class="flex flex-col justify-center items-center min-h-screen">

    <div class="mb-6 text-center">
        <p class="text-xs text-gray-400 font-medium uppercase tracking-widest">Seguridad de Nómina</p>
    </div>

    <div id="payrollWidget" class="relative w-80 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden cursor-pointer select-none transition-transform duration-200 active:scale-[0.98]">
        
        <div class="privacy-overlay absolute inset-0 z-10 bg-white/40 flex flex-col items-center justify-center">
            <div class="relative flex items-center justify-center">
                <svg class="w-16 h-16 transform -rotate-90">
                    <circle cx="32" cy="32" r="16" stroke="currentColor" stroke-width="3" fill="transparent" class="text-gray-200" />
                    <circle id="progressRing" cx="32" cy="32" r="16" stroke="#005CB9" stroke-width="3" fill="transparent" stroke-linecap="round" />
                </svg>
                <div class="absolute">
                    <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>
            <span class="mt-4 text-[10px] font-bold text-gray-600 uppercase tracking-widest">Mantén para ver</span>
        </div>

        <div class="content-reveal-layer">
            <div class="flex justify-between items-center px-4 py-3 border-b border-gray-100">
                <div class="flex items-center space-x-2">
                    <div class="w-5 h-5 workday-bg-blue rounded-full flex items-center justify-center">
                        <span class="text-[10px] text-white font-bold">W</span>
                    </div>
                    <span class="text-[10px] font-bold text-gray-400 tracking-widest uppercase">Workday</span>
                </div>
                <span class="text-xs font-medium text-gray-500">Mi Nómina</span>
            </div>

            <div class="p-6">
                <div class="flex justify-between items-start mb-1">
                    <p class="text-[11px] text-gray-400 font-bold uppercase">Neto a Recibir</p>
                    <span class="px-2 py-0.5 bg-green-100 text-green-700 text-[9px] font-bold rounded-full uppercase">
                        Pagado
                    </span>
                </div>
                
                <h2 class="text-3xl font-bold text-gray-800 mb-1 tracking-tight">$3,450.00 <span class="text-sm font-normal text-gray-400">MXN</span></h2>
                <p class="text-[11px] text-gray-400 mb-6">Periodo: 1 - 15 Feb 2026</p>

                <div class="flex items-end space-x-3 h-12 mb-8">
                    <div class="flex-1 bg-gray-100 rounded-t-sm h-3/4"></div>
                    <div class="flex-1 bg-gray-100 rounded-t-sm h-4/5"></div>
                    <div class="flex-1 bg-gray-100 rounded-t-sm h-3/4"></div>
                    <div class="flex-1 workday-bg-blue rounded-t-sm h-full"></div>
                </div>

                <button class="w-full py-2.5 border border-gray-200 rounded text-[11px] font-bold text-gray-700 hover:bg-gray-50 transition-colors uppercase tracking-wider shadow-sm">
                    Descargar Recibo (PDF)
                </button>
            </div>
        </div>
    </div>

    <script>
        const widget = document.getElementById('payrollWidget');
        let revealTimeout;
        const HOLD_DURATION = 800; // ms

        const startAction = (e) => {
            // Add 'holding' class to trigger CSS progress animation
            widget.classList.add('holding');
            
            revealTimeout = setTimeout(() => {
                widget.classList.add('is-revealed');
                widget.classList.remove('holding');
            }, HOLD_DURATION);
        };

        const cancelAction = () => {
            clearTimeout(revealTimeout);
            widget.classList.remove('is-revealed');
            widget.classList.remove('holding');
        };

        // Desktop Events
        widget.addEventListener('mousedown', startAction);
        widget.addEventListener('mouseup', cancelAction);
        widget.addEventListener('mouseleave', cancelAction);

        // Mobile Events
        widget.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startAction();
        });
        widget.addEventListener('touchend', cancelAction);
    </script>
</body>
</html>
